{"ast":null,"code":"var _jsxFileName = \"D:\\\\RUT\\\\packages\\\\admin\\\\src\\\\context\\\\LocationContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { storage } from '../utils/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationContext = /*#__PURE__*/createContext(undefined);\nexport const LocationProvider = ({\n  children\n}) => {\n  _s();\n  const [countries, setCountries] = useState([]);\n  const [regions, setRegions] = useState([]);\n  useEffect(() => {\n    const savedCountries = storage.getCountries();\n    const savedRegions = storage.getRegions();\n    if (savedCountries.length > 0) setCountries(savedCountries);\n    if (savedRegions.length > 0) setRegions(savedRegions);\n  }, []);\n  const saveCountriesToStorage = newCountries => {\n    setCountries(newCountries);\n    storage.saveCountries(newCountries);\n  };\n  const saveRegionsToStorage = newRegions => {\n    setRegions(newRegions);\n    storage.saveRegions(newRegions);\n  };\n  const addCountry = name => {\n    const newCountry = {\n      id: `country_${Date.now()}`,\n      name,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    saveCountriesToStorage([...countries, newCountry]);\n  };\n  const addRegion = (name, countryId) => {\n    const newRegion = {\n      id: `region_${Date.now()}`,\n      name,\n      countryId,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    saveRegionsToStorage([...regions, newRegion]);\n  };\n  const updateCountry = (id, name) => {\n    const newCountries = countries.map(country => country.id === id ? {\n      ...country,\n      name,\n      updatedAt: new Date().toISOString()\n    } : country);\n    saveCountriesToStorage(newCountries);\n  };\n  const updateRegion = (id, name) => {\n    const newRegions = regions.map(region => region.id === id ? {\n      ...region,\n      name,\n      updatedAt: new Date().toISOString()\n    } : region);\n    saveRegionsToStorage(newRegions);\n  };\n  const deleteCountry = id => {\n    // 지역이 있으면 삭제 불가\n    const hasRegions = regions.some(region => region.countryId === id);\n    if (hasRegions) {\n      return false;\n    }\n    const newCountries = countries.filter(country => country.id !== id);\n    saveCountriesToStorage(newCountries);\n    return true;\n  };\n  const deleteRegion = id => {\n    const newRegions = regions.filter(region => region.id !== id);\n    saveRegionsToStorage(newRegions);\n  };\n  const getCountry = id => {\n    return countries.find(country => country.id === id);\n  };\n  const getRegionsByCountry = countryId => {\n    return regions.filter(region => region.countryId === countryId);\n  };\n  return /*#__PURE__*/_jsxDEV(LocationContext.Provider, {\n    value: {\n      countries,\n      regions,\n      addCountry,\n      addRegion,\n      updateCountry,\n      updateRegion,\n      deleteCountry,\n      deleteRegion,\n      getCountry,\n      getRegionsByCountry\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationProvider, \"S4f88TGzbtm7pQu+8e+KrdYZYho=\");\n_c = LocationProvider;\nexport const useLocations = () => {\n  _s2();\n  const context = useContext(LocationContext);\n  if (context === undefined) {\n    throw new Error('useLocations must be used within a LocationProvider');\n  }\n  return context;\n};\n_s2(useLocations, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"LocationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","storage","jsxDEV","_jsxDEV","LocationContext","undefined","LocationProvider","children","_s","countries","setCountries","regions","setRegions","savedCountries","getCountries","savedRegions","getRegions","length","saveCountriesToStorage","newCountries","saveCountries","saveRegionsToStorage","newRegions","saveRegions","addCountry","name","newCountry","id","Date","now","createdAt","toISOString","updatedAt","addRegion","countryId","newRegion","updateCountry","map","country","updateRegion","region","deleteCountry","hasRegions","some","filter","deleteRegion","getCountry","find","getRegionsByCountry","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useLocations","_s2","context","Error","$RefreshReg$"],"sources":["D:/RUT/packages/admin/src/context/LocationContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { Country, Region } from '@tourstream/shared';\r\nimport { storage } from '../utils/storage';\r\n\r\ninterface LocationContextType {\r\n  countries: Country[];\r\n  regions: Region[];\r\n  addCountry: (name: string) => void;\r\n  addRegion: (name: string, countryId: string) => void;\r\n  updateCountry: (id: string, name: string) => void;\r\n  updateRegion: (id: string, name: string) => void;\r\n  deleteCountry: (id: string) => boolean; // 삭제 가능 여부 반환\r\n  deleteRegion: (id: string) => void;\r\n  getCountry: (id: string) => Country | undefined;\r\n  getRegionsByCountry: (countryId: string) => Region[];\r\n}\r\n\r\nconst LocationContext = createContext<LocationContextType | undefined>(undefined);\r\n\r\nexport const LocationProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [countries, setCountries] = useState<Country[]>([]);\r\n  const [regions, setRegions] = useState<Region[]>([]);\r\n\r\n  useEffect(() => {\r\n    const savedCountries = storage.getCountries();\r\n    const savedRegions = storage.getRegions();\r\n    if (savedCountries.length > 0) setCountries(savedCountries);\r\n    if (savedRegions.length > 0) setRegions(savedRegions);\r\n  }, []);\r\n\r\n  const saveCountriesToStorage = (newCountries: Country[]) => {\r\n    setCountries(newCountries);\r\n    storage.saveCountries(newCountries);\r\n  };\r\n\r\n  const saveRegionsToStorage = (newRegions: Region[]) => {\r\n    setRegions(newRegions);\r\n    storage.saveRegions(newRegions);\r\n  };\r\n\r\n  const addCountry = (name: string) => {\r\n    const newCountry: Country = {\r\n      id: `country_${Date.now()}`,\r\n      name,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n    };\r\n    saveCountriesToStorage([...countries, newCountry]);\r\n  };\r\n\r\n  const addRegion = (name: string, countryId: string) => {\r\n    const newRegion: Region = {\r\n      id: `region_${Date.now()}`,\r\n      name,\r\n      countryId,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n    };\r\n    saveRegionsToStorage([...regions, newRegion]);\r\n  };\r\n\r\n  const updateCountry = (id: string, name: string) => {\r\n    const newCountries = countries.map(country =>\r\n      country.id === id ? { ...country, name, updatedAt: new Date().toISOString() } : country\r\n    );\r\n    saveCountriesToStorage(newCountries);\r\n  };\r\n\r\n  const updateRegion = (id: string, name: string) => {\r\n    const newRegions = regions.map(region =>\r\n      region.id === id ? { ...region, name, updatedAt: new Date().toISOString() } : region\r\n    );\r\n    saveRegionsToStorage(newRegions);\r\n  };\r\n\r\n  const deleteCountry = (id: string): boolean => {\r\n    // 지역이 있으면 삭제 불가\r\n    const hasRegions = regions.some(region => region.countryId === id);\r\n    if (hasRegions) {\r\n      return false;\r\n    }\r\n    const newCountries = countries.filter(country => country.id !== id);\r\n    saveCountriesToStorage(newCountries);\r\n    return true;\r\n  };\r\n\r\n  const deleteRegion = (id: string) => {\r\n    const newRegions = regions.filter(region => region.id !== id);\r\n    saveRegionsToStorage(newRegions);\r\n  };\r\n\r\n  const getCountry = (id: string) => {\r\n    return countries.find(country => country.id === id);\r\n  };\r\n\r\n  const getRegionsByCountry = (countryId: string) => {\r\n    return regions.filter(region => region.countryId === countryId);\r\n  };\r\n\r\n  return (\r\n    <LocationContext.Provider value={{\r\n      countries,\r\n      regions,\r\n      addCountry,\r\n      addRegion,\r\n      updateCountry,\r\n      updateRegion,\r\n      deleteCountry,\r\n      deleteRegion,\r\n      getCountry,\r\n      getRegionsByCountry,\r\n    }}>\r\n      {children}\r\n    </LocationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useLocations = () => {\r\n  const context = useContext(LocationContext);\r\n  if (context === undefined) {\r\n    throw new Error('useLocations must be used within a LocationProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}